import{a as i}from"./index-BhUo-Wcg.js";const c=i.create({baseURL:"https://YOUR-HF-USERNAME-codeshield-backend.hf.space",timeout:6e4,headers:{"Content-Type":"application/json"}});async function d(t,o="GraphCodeBERT",n="snippet"){var r,a;if(!(t!=null&&t.trim()))throw new Error("Please paste some code first");try{const e=localStorage.getItem("auth_token"),s=e?`/scan?token=${e}`:"/scan";return(await c.post(s,{code:t,model:o,filename:n})).data}catch(e){throw console.error("Scan failed:",e),(a=(r=e.response)==null?void 0:r.data)!=null&&a.detail?new Error(e.response.data.detail):e.code==="ECONNABORTED"?new Error("Request timed out â€“ is the backend running?"):new Error(e.message||"Could not reach the scanner")}}export{d as scanCode};
